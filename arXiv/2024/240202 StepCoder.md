https://arxiv.org/abs/2402.01391

*StepCoder: Improve Code Generation with Reinforcement Learning from Compiler Feedback* (Shihan Dou, Yan Liu, Haoxiang Jia, Limao Xiong, Enyu Zhou, Junjie Shan, Caishuang Huang, Wei Shen, Xiaoran Fan, Zhiheng Xi, Yuhao Zhou, Tao Ji, Rui Zheng, Qi Zhang, Xuanjing Huang, Tao Gui)

> The advancement of large language models (LLMs) has significantly propelled the field of code generation. Previous work integrated reinforcement learning (RL) with compiler feedback for exploring the output space of LLMs to enhance code generation quality. However, the lengthy code generated by LLMs in response to complex human requirements makes RL exploration a challenge. Also, since the unit tests may not cover the complicated code, optimizing LLMs by using these unexecuted code snippets is ineffective. To tackle these challenges, we introduce StepCoder, a novel RL framework for code generation, consisting of two main components: CCCS addresses the exploration challenge by breaking the long sequences code generation task into a Curriculum of Code Completion Subtasks, while FGO only optimizes the model by masking the unexecuted code segments to provide Fine-Grained Optimization. In addition, we furthermore construct the APPS+ dataset for RL training, which is manually verified to ensure the correctness of unit tests. Experimental results show that our method improves the ability to explore the output space and outperforms state-of-the-art approaches in corresponding benchmarks.

유닛 테스트/컴파일러를 사용한 피드백에 대한 개선. 전체 생성 - 피드백이 아니라 코드를 조건문에서 쪼갠 다음 코드 완성 과제를 시키고 그에 대한 피드백을 줍니다. 그리고 점진적으로 쪼개는 위치를 앞쪽으로 당기는 방식이죠. 추가로 유닛 테스트에서 실행되지 않는 부분은 Loss 마스킹을 합니다.

전반적으로 Process Reward Model을 유닛 테스트/컴파일러 피드백에 적용했다는 느낌이네요.

#reward-model #rlhf #code 

Improvements on feedback using unit test or compiler. Instead of using full generation & feedback, split codes on conditional statements and make model to do code completion tasks, then gives feedback. Also move split points to the front incrementally. Additionally mask out loss which corresponds to the part that does not executed on unit tests.

Overall we can think this as applying process reward models on unit test or compiler feedback.